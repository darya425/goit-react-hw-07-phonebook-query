(this["webpackJsonpgoit-react-hw-07-phonebook-query"]=this["webpackJsonpgoit-react-hw-07-phonebook-query"]||[]).push([[0],{68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(13),s=n.n(r),o=n(31),i=n(7),l=n(32),u=n(21),d=n(1),j=n(6),b=n(29),m=Object(b.a)({reducerPath:"contactApi",baseQuery:Object(j.d)({baseUrl:"https://611e10377d273a0017e2fa20.mockapi.io"}),tagTypes:["Contact"],endpoints:function(e){return{fetchContacts:e.query({query:function(){return"/contacts"},providesTags:["Contact"]}),deleteContact:e.mutation({query:function(e){return{url:"/contacts/".concat(e),method:"DELETE"}},invalidatesTags:["Contact"]}),createContact:e.mutation({query:function(e){return{url:"/contacts",method:"POST",body:{name:e.name,number:e.number}}},invalidatesTags:["Contact"]})}}}),h=m.useFetchContactsQuery,f=m.useDeleteContactMutation,O=m.useCreateContactMutation,p=Object(d.a)({reducer:Object(u.a)({},m.reducerPath,m.reducer),middleware:function(e){return[].concat(Object(l.a)(e()),[m.middleware])},devTools:!1});Object(j.e)(p.dispatch);var x=n(3),C=n.n(x),v=n(2),g=function(e){var t=e.children;return Object(v.jsx)("div",{className:"container",children:t})};g.protoTypes={children:C.a.node.isRequired};var y=g,N=function(e){var t=e.children;return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(y,{children:t})})};N.protoType={children:C.a.node.isRequired};var F=N,w=n(12),k=n(25),q=n.n(k),T=n(17),E=(n(28),n(14)),L=n.n(E),S=(n(24),n(68),function(){var e=Object(a.useState)(""),t=Object(w.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(w.a)(r,2),o=s[0],i=s[1],l=O(),u=Object(w.a)(l,2),d=u[0],j=u[1].isLoading,b=h().data,m=q.a.generate(),f=q.a.generate(),p=function(e){var t=e.target,n=t.name,a=t.value;switch(n){case"name":c(a);break;case"number":i(a);break;default:return}},x=function(){c(""),i("")};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(T.a,{}),Object(v.jsxs)("form",{autoComplete:"off",className:"form",onSubmit:function(e){e.preventDefault();var t=n.toLowerCase();if(b.find((function(e){return e.name.toLowerCase()===t})))return alert(n+" is already in contacts."),void x();console.log(n),console.log(o),d({name:n,number:o}),T.b.success("Contact added!",{autoClose:2e3}),x()},children:[Object(v.jsx)("label",{htmlFor:m,className:"name",children:"Name :"}),Object(v.jsx)("input",{id:m,className:"name_input",type:"text",name:"name",value:n,placeholder:"Enter a made up name...",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"You need to click on the letters",onChange:p,required:!0}),Object(v.jsx)("label",{htmlFor:f,className:"name",children:"Phone number :"}),Object(v.jsx)("input",{id:f,className:"name_input",type:"tel",autoComplete:"off",name:"number",value:o,placeholder:"Enter number 666-666-6666...",pattern:"[0-9]{3}-[0-9]{3}-[0-9]{4}",title:"Do you know what a dash is?",onChange:p,required:!0}),Object(v.jsx)("button",{className:"btn-form",type:"submit",disabled:j,children:j?Object(v.jsx)(L.a,{type:"Circles",color:"#00BFFF",height:15,width:15}):"Add contact"})]})]})}),A=n(30),P=(n(69),function(e){var t=e.filter;return Object(v.jsxs)("div",{className:"filter-form",children:[Object(v.jsx)("label",{className:"filter-title",children:"Find contact by name :"}),Object(v.jsx)("input",{className:"filter-input",type:"text",placeholder:"Find a lost soul...",onChange:function(e){t(e.currentTarget.value)}})]})}),B=(n(70),function(e){var t=e.id,n=e.name,a=e.number,c=f(),r=Object(w.a)(c,2),s=r[0],o=r[1].isLoading;return Object(v.jsxs)("li",{className:"item",children:[Object(v.jsx)("span",{className:"name-item",children:n}),Object(v.jsx)("span",{className:"name-item",children:a}),Object(v.jsx)("button",{className:"btn",type:"button",onClick:function(){s(t),T.b.success("Contact deleted!",{autoClose:2e3})},disabled:o,children:o&&Object(v.jsx)(L.a,{type:"Circles",color:"#00BFFF",height:15,width:15})})]})}),D=(n(71),function(){var e=Object(a.useState)([]),t=Object(w.a)(e,2),n=t[0],c=t[1],r=h(),s=r.data,o=r.isFetching;Object(a.useEffect)((function(){s&&c(s)}),[s]);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(P,{filter:function(e){if(e){var t=e.toLowerCase(),a=n.filter((function(e){return e.name.toLowerCase().includes(t)}));c(a)}else c(s)}}),o&&Object(v.jsx)(L.a,{type:"Circles",color:"#00BFFF",height:30,width:30}),n&&Object(v.jsx)("ul",{className:"list",children:n.map((function(e){return Object(v.jsx)(B,Object(A.a)({},e),e.id)}))})]})}),z=(n(72),function(){return Object(v.jsxs)(F,{children:[Object(v.jsxs)("div",{className:"box",children:[Object(v.jsx)("h1",{className:"title",children:"Phonebook of non-existent people"}),Object(v.jsx)(S,{})]}),Object(v.jsxs)("div",{className:"box",children:[Object(v.jsx)("h2",{className:"contact",children:"Contacts"}),Object(v.jsx)(D,{})]})]})});n(73),n(74);s.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(o.a,{children:Object(v.jsx)(i.a,{store:p,children:Object(v.jsx)(z,{})})})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.a7fbcc0a.chunk.js.map